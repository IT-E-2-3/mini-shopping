<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.team3.shopping.dao.ProductDao">
	
	<!-- 3뎁스 카테고리들을 출력 -->
	<select id="getcategoryList" parameterType="string" resultType="category">
		select category_code, category_name
		from category
		where category_code like #{cateCode}||'%' and category_level=3
	</select>
	
	<!-- 현 카테고리 이름 출력 -->
	<select id="currentCategory" parameterType="string" resultType="category">
		select category_name
		from category
		where category_code = #{cateCode}
	</select>
	
	<!-- 부모카테고리 이름 출력 -->
	<select id="parentCategory" parameterType="string" resultType="category">
		select b.category_name
		from category a, category b
		where a.category_code = #{cateCode}
		and a.top_category_code = b.category_code
	</select>
</mapper>